<!doctype html>

<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width,initial-scale=1.0">

        <link rel="stylesheet" href="style.css">

        <!-- This script tag bootstraps PyScript -->
        <script type="module" src="https://pyscript.net/releases/2024.1.1/core.js"></script>

        <script type="module">
            const loading = document.getElementById('loading');
            addEventListener('py:ready', () => loading.close());
            loading.showModal();
        </script>

        <title>Pose Estimation</title>
    </head>

    <body>
        <section>
            <div class="navbar">
                <p class="welcome">TheraBuddy</p>
            </div>
            <div class="content">
                <div class="welcome-msg">
                    <p class="personal">Welcome, Emily!</p>
                    <p class="sub-personal">Let's get started with your exercises for today.</p>
                </div>
                <div class="exercise-card">
                    <div class="exercise-prompt">
                        <p style="font-size: 2rem">Today's exercise:</p>
                        <p class="exercise">Jumping Jack</p>
                    </div>
                    <div class="gif">
                        <img src="https://cdn.dribbble.com/users/2931468/screenshots/5720362/jumping-jack.gif" alt="jumping-jacl-gif" class="exercise-gif">
                    </div>
                </div>
            </div>
            <div class="capture-vid">
                <h1>Let's get exercising!</h1>
                <p>Click below whenever you're ready to start your exercise.</p>
                <script type="py" src="./videoCapture.py"></script>
                <button class="button" id="Record Video" py-click="videoCapture.print" onclick="startCapture()">Start Exercise!</button>
            </div>

            <!-- score -->
            <div class="score">
                <div class="personalized-container">
                    <p>Great job, Emily!</p>
                    <p>Let's review your performance...</p>
                </div>
                <div class="score-container">
                    <p>Scores:</p>
                </div>
            </div>
        </section>
    </body>
</html>

<script>
    function startCapture() {
        console.log("--------Start Capture--------");
        document.getElementById("Record Video").onclick = function() {stopCapture()};
        document.getElementById("Record Video").innerHTML = "Stop Exercise";
        document.getElementsByClassName("score-container").display = "block";
    }

    function stopCapture() {
        console.log("--------Stop Capture--------");
    }
</script>